<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="exercise-1.js" defer></script>
    <title>Document</title>
  </head>
  <body>
    <p class="fn-remove-me">Bye bye</p>
    <div data-function="printHere"></div>
    <script>
      // 1.1 Crear lista de países
      const cars = ["Mazda 6", "Ford fiesta", "Audi A4", "Toyota corola"];
      function createCountriesList() {
        const ul = document.createElement("ul");

        countries.forEach((country) => {
          const li = document.createElement("li");
          li.textContent = country;
          ul.appendChild(li);
        });

        document.body.appendChild(ul);
      }

      // 1.2 Eliminar elemento con clase .fn-remove-me
      function removeElement() {
        const element = document.querySelector(".fn-remove-me");
        if (element) {
          element.remove();
        }
      }

      // 1.3 Crear lista de coches en el div específico
      const countries = [
        "Japón",
        "Nicaragua",
        "Suiza",
        "Australia",
        "Venezuela",
      ];
      
      function createCarsList() {
        const container = document.querySelector('[data-function="printHere"]');
        const ul = document.createElement("ul");

        cars.forEach((car) => {
          const li = document.createElement("li");
          li.textContent = car;
          ul.appendChild(li);
        });

        container.appendChild(ul);
      }

      // 1.4 Crear divs con título e imagen
      const countriesWithImages = [
        {
          title: "Random title",
          imgUrl: "https://picsum.photos/300/200?random=1",
        },
        {
          title: "Random title",
          imgUrl: "https://picsum.photos/300/200?random=2",
        },
        {
          title: "Random title",
          imgUrl: "https://picsum.photos/300/200?random=3",
        },
        {
          title: "Random title",
          imgUrl: "https://picsum.photos/300/200?random=4",
        },
        {
          title: "Random title",
          imgUrl: "https://picsum.photos/300/200?random=5",
        },
      ];
      function createImageCards() {
        const container = document.createElement("div");
        container.className = "image-cards-container";

        countriesWithImages.forEach((item, index) => {
          const div = document.createElement("div");
          div.className = "image-card";

          const h4 = document.createElement("h4");
          h4.textContent = `${item.title} ${index + 1}`;

          const img = document.createElement("img");
          img.src = item.imgUrl;
          img.alt = item.title;

          div.appendChild(h4);
          div.appendChild(img);
          container.appendChild(div);
        });

        document.body.appendChild(container);
      }

      // 1.5 Crear botón para eliminar último elemento
      function createRemoveLastButton() {
        const button = document.createElement("button");
        button.textContent = "Eliminar último elemento";

        button.addEventListener("click", () => {
          const cards = document.querySelectorAll(".image-card");
          if (cards.length > 0) {
            cards[cards.length - 1].remove();
          }
        });

        document.body.appendChild(button);
      }

      // 1.6 Crear botones individuales para cada div
      function addIndividualRemoveButtons() {
        const cards = document.querySelectorAll(".image-card");

        cards.forEach((card, index) => {
          const button = document.createElement("button");
          button.textContent = "Eliminar esta tarjeta";

          button.addEventListener("click", () => {
            card.remove();
          });

          card.appendChild(button);
        });
      }

      // Ejecutar todo cuando se carga la página
      document.addEventListener("DOMContentLoaded", () => {
        // 1.1 Crear lista de países
        createCountriesList();

        // 1.2 Eliminar elemento con clase .fn-remove-me
        removeElement();

        // 1.3 Crear lista de coches en el div específico
        createCarsList();

        // 1.4 Crear divs con título e imagen
        createImageCards();

        // 1.5 Crear botón para eliminar último elemento
        createRemoveLastButton();

        // 1.6 Agregar botones individuales a cada tarjeta
        addIndividualRemoveButtons();
      });
    </script>
  </body>
</html>
